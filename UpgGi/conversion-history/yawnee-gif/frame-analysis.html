<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yawnee.gif Frame Analysis</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            background: #1a1a1a;
            color: #00ff00;
            padding: 20px;
            margin: 0;
        }
        h1 {
            color: #00ff00;
            border-bottom: 2px solid #00ff00;
            padding-bottom: 10px;
        }
        .info {
            background: #2a2a2a;
            padding: 15px;
            margin: 20px 0;
            border-left: 4px solid #00ff00;
        }
        .frame-sequence {
            margin: 20px 0;
        }
        .frame-pair {
            display: flex;
            align-items: center;
            gap: 20px;
            margin: 30px 0;
            padding: 20px;
            background: #2a2a2a;
            border: 2px solid #333;
        }
        .frame-pair:hover {
            border-color: #00ff00;
        }
        .frame-box {
            text-align: center;
        }
        .frame-box img {
            width: 90px;
            height: 90px;
            image-rendering: pixelated;
            image-rendering: crisp-edges;
            border: 2px solid #666;
            background: white;
        }
        .frame-label {
            margin-top: 8px;
            font-size: 14px;
            color: #ffff00;
            font-weight: bold;
        }
        .frame-time {
            font-size: 11px;
            color: #888;
            margin-top: 2px;
        }
        .diff-box {
            text-align: center;
            flex-grow: 1;
        }
        .diff-box img {
            width: 120px;
            height: 120px;
            image-rendering: pixelated;
            image-rendering: crisp-edges;
            border: 2px solid #ff0000;
            background: #000;
        }
        .diff-label {
            margin-top: 8px;
            font-size: 12px;
            color: #ff6666;
        }
        .diff-stats {
            font-size: 11px;
            color: #888;
            margin-top: 4px;
        }
        .diff-description {
            font-size: 12px;
            color: #00ffff;
            margin-top: 8px;
            padding: 8px;
            background: #1a1a1a;
            border-left: 2px solid #00ffff;
            line-height: 1.4;
        }
        .arrow {
            font-size: 30px;
            color: #00ff00;
        }
        .key-frames {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        .key-frame {
            background: #2a2a2a;
            padding: 15px;
            border: 2px solid #ffff00;
        }
        .key-frame img {
            width: 90px;
            height: 90px;
            image-rendering: pixelated;
            image-rendering: crisp-edges;
        }
        .key-frame h3 {
            margin: 10px 0 5px 0;
            color: #ffff00;
        }
        .animation-preview {
            margin: 30px 0;
            padding: 20px;
            background: #2a2a2a;
            border: 2px solid #00ff00;
        }
        .animation-preview img {
            width: 150px;
            height: 150px;
            image-rendering: pixelated;
            image-rendering: crisp-edges;
        }
        .section-header {
            color: #ffff00;
            font-size: 20px;
            margin: 40px 0 20px 0;
            padding: 10px;
            background: #333;
            border-left: 4px solid #ffff00;
        }
        .loop-indicator {
            background: #ff6600;
            color: #fff;
            padding: 15px;
            margin: 20px 0;
            border-left: 4px solid #ff0000;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>ðŸ¥± Yawnee.gif Frame-by-Frame Analysis</h1>

    <div class="info">
        <strong>GIF Properties:</strong><br>
        â€¢ Size: 15Ã—15 pixels<br>
        â€¢ Frame count: 29 frames<br>
        â€¢ Frame duration: <strong>VARIABLE</strong> (10ms to 1500ms per frame)<br>
        â€¢ Total animation: <strong>7,390ms (7.39 seconds)</strong><br>
        â€¢ Animation type: Yawning with eyes closing and mouth opening<br>
        â€¢ Timing: Variable durations per frame (see individual frame timings below)<br>
        â€¢ <a href="detailed-transitions.txt?v=16a2c14" style="color: #00ffff;">ðŸ“„ Download detailed transitions (text file)</a>
    </div>

    <div class="info">
        <strong>Diff Image Legend:</strong><br>
        â€¢ <span style="color: #ff0000;">Bright Red (Opaque)</span> = Maximum pixel change<br>
        â€¢ <span style="color: #ff6666;">Light Red (Semi-transparent)</span> = Moderate pixel change<br>
        â€¢ Transparent/No Red = No change<br>
        â€¢ Diff images show changes from Frame N â†’ Frame N+1
    </div>

    <div class="animation-preview">
        <h2>Original Animation</h2>
        <img src="yawnee.gif?v=16a2c14" alt="Original yawnee.gif animation">
    </div>

    <div class="section-header">ðŸ“Š Complete Frame-by-Frame Sequence with Pixel Diff Analysis</div>

    <div class="frame-sequence" id="frameSequence"></div>

    <div class="loop-indicator">
        âŸ² Animation loops back to Frame 0
    </div>

    <script>
        // Generate complete frame sequence with diffs
        const frameSequence = document.getElementById('frameSequence');

        // Frame durations (VARIABLE per frame, from GIF metadata)
        const frameDurations = [1500, 10, 500, 150, 200, 200, 200, 200, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 300, 100, 10, 250, 10, 250, 10, 250];

        // Calculate cumulative timing
        const cumulativeTimes = [0];
        for (let i = 0; i < frameDurations.length; i++) {
            cumulativeTimes.push(cumulativeTimes[i] + frameDurations[i]);
        }

        function getFrameTime(frameNum) {
            const ms = cumulativeTimes[frameNum];
            const seconds = (ms / 1000).toFixed(2);
            return { ms, seconds };
        }

        function getFrameDuration(frameNum) {
            return frameDurations[frameNum];
        }

        // Frame transition descriptions (detailed pixel-level analysis)
        const frameDescriptions = [
            "Eyes squint/blink closed at Y=5, becoming lighter gray. Mouth unchanged at Y=11-13. Quick blink start.",
            "Eyes reopen after initial squinting and are more defined (grayâ†’black), still at Y=4.9. Eyes wider open. Mouth stays at Y=11-13. Post-blink recovery.",
            "Eyes stay the same position (Y=4.9) but mouth is getting darker/more defined by additional pixels on each side. Straight horizontal widening at Y=11, not curved. Eyes unchanged.",
            "Wide mouth is contracting again back to same position as frame 2. Mouth darkness reduces. Eyes still unchanged at Y=4.9.",
            "Eyes appear to squint slightly and move down to Y=5.0 with distance increasing (6.2â†’6.5). Mouth is contracting inward even more (dark pixels 5â†’2) and begins opening slightly from center - small dark area appears at Y=11-12 center. Preparation for yawn.",
            "Eyes stay squinted but MOVE UP sharply (Y=5.0â†’4.2) and maintain wider spacing. Mouth opens UPWARD dramatically (Y=12â†’Y=8-12), expanding from top while bottom stays stable at Y=12-13. Head tilting backward appearance! Yawn beginning!",
            "Eyes continue moving UP (Y=5â†’3) and become VERY DARK (valuesâ†’0, solid black). Distance decreases (5â†’4 pixels), eyes coming closer. Mouth FULLY OPENS - massive expansion upward to Y=3-7, dark pixels jump from 11â†’many. Wide-open yawn expression achieved!",
            "Eyes CONTINUE MOVING UP (Y=3â†’2) and move FURTHER APART (4â†’5 pixels), becoming lighter gray (0â†’68, squinting). Mouth stays wide open and expands even more. Yawn reaches maximum upward stretch!",
            "Eyes move DOWN slightly (Y=2.0â†’2.7) and CLOSER together (5â†’4 pixels), becoming DARKER/more open (68â†’24, black). Mouth DARKENS. Trembling oscillation starts - eyes opening wider, coming closer.",
            "Eyes move UP (Y=2.7â†’2.0) and APART (4â†’5 pixels), SQUINTING (24â†’68, gray). Mouth lightens. Trembling alternation - openâ†”squint pattern.",
            "Eyes move DOWN (Y=2.0â†’2.7) and CLOSER (5â†’4 pixels), opening to BLACK (68â†’24). Mouth darkens. Pattern repeats - sustained yawn peak vibration.",
            "Eyes move UP (Y=2.7â†’2.0) and APART (4â†’5 pixels), SQUINTING (24â†’68, gray). Mouth lightens. Alternating trembling continues.",
            "Eyes move DOWN (Y=2.0â†’2.7) and CLOSER (5â†’4 pixels), opening to BLACK (68â†’24). Mouth darkens. Repeating trembling cycle.",
            "Eyes move UP (Y=2.7â†’2.0) and APART (4â†’5 pixels), SQUINTING (24â†’68, gray). Mouth lightens. Continuous oscillation.",
            "Eyes move DOWN (Y=2.0â†’2.7) and CLOSER (5â†’4 pixels), opening to BLACK (68â†’24). Mouth darkens. Sustained yawn strain pattern.",
            "Eyes move UP (Y=2.7â†’2.0) and APART (4â†’5 pixels), SQUINTING (24â†’68, gray). Mouth lightens. Trembling persists.",
            "Eyes move DOWN (Y=2.0â†’2.7) and CLOSER (5â†’4 pixels), opening to BLACK (68â†’24). Mouth darkens. Pattern continues.",
            "Eyes move UP (Y=2.7â†’2.0) and APART (4â†’5 pixels), SQUINTING (24â†’68, gray). Mouth lightens. Still trembling.",
            "Eyes move DOWN (Y=2.0â†’2.7) and CLOSER (5â†’4 pixels), opening to BLACK (68â†’24). Mouth darkens. Oscillation continues.",
            "Eyes move UP (Y=2.7â†’2.0) and APART (4â†’5 pixels), SQUINTING (24â†’68, gray). Mouth lightens. Penultimate trembling cycle.",
            "Eyes move DOWN (Y=2.0â†’2.7) and CLOSER (5â†’4 pixels), opening to BLACK (68â†’24). Mouth darkens. FINAL yawn peak trembling cycle. Longest single frame duration (300ms).",
            "YAWN ENDING! Eyes JUMP UP dramatically (Y=4.6â†’3.5) and squint to gray. Distance widens back (5.9â†’6.5), eyes move apart. Mouth CONTRACTS massively - top drops from Y=8 to Y=9, dark pixels collapse (30â†’8). Major transition! Quick 100ms.",
            "Eyes move down slightly (Y=3.5â†’4.2), stay squinted gray. Mouth top rises back to Y=8 but much lighter (8â†’2 dark pixels). Recovery phase starting. Ultra-quick 10ms transition.",
            "Eyes position stable (Y=4.2), stay squinted. Mouth alternates: top drops to Y=9, slightly darker (2â†’5 dark pixels). Quick blink/alternation pattern begins.",
            "Eyes stable Y=4.2. Mouth top rises to Y=8, lighter again (5â†’2 pixels). Alternating mouth pattern. Quick 10ms.",
            "Eyes stable Y=4.2. Mouth drops to Y=9, darker (2â†’5 pixels). Alternation continues. Longer hold.",
            "Eyes stable Y=4.2. Mouth rises to Y=8, lighter (5â†’2 pixels). Pattern persisting. Quick transition.",
            "Eyes stable Y=4.2. Mouth drops to Y=9, darker (2â†’5 pixels). Final alternation cycle.",
            "Eyes stable at Y=4.2 squinted. Mouth gradually settles down toward Y=11-12 (center 10.9â†’12.0), returning to smile position. LOOP COMPLETE - ready for next yawn! Long 1500ms pause before restart."
        ];

        // Diff statistics (from analysis)
        const diffStats = [
            { from: 0, to: 1, pct: 3.6, avg: 126.9 },
            { from: 1, to: 2, pct: 4.4, avg: 140.2 },
            { from: 2, to: 3, pct: 1.8, avg: 107.5 },
            { from: 3, to: 4, pct: 1.8, avg: 106.5 },
            { from: 4, to: 5, pct: 7.1, avg: 132.7 },
            { from: 5, to: 6, pct: 11.1, avg: 115.4 },
            { from: 6, to: 7, pct: 27.6, avg: 92.7 },
            { from: 7, to: 8, pct: 24.0, avg: 60.1 },
            { from: 8, to: 9, pct: 23.6, avg: 38.3 },
            { from: 9, to: 10, pct: 23.6, avg: 38.3 },
            { from: 10, to: 11, pct: 23.6, avg: 38.3 },
            { from: 11, to: 12, pct: 23.6, avg: 38.3 },
            { from: 12, to: 13, pct: 23.6, avg: 38.3 },
            { from: 13, to: 14, pct: 23.6, avg: 38.3 },
            { from: 14, to: 15, pct: 23.6, avg: 38.3 },
            { from: 15, to: 16, pct: 23.6, avg: 38.3 },
            { from: 16, to: 17, pct: 23.6, avg: 38.3 },
            { from: 17, to: 18, pct: 23.6, avg: 38.3 },
            { from: 18, to: 19, pct: 23.6, avg: 38.3 },
            { from: 19, to: 20, pct: 23.6, avg: 38.3 },
            { from: 20, to: 21, pct: 23.6, avg: 38.3 },
            { from: 21, to: 22, pct: 29.8, avg: 124.8 },
            { from: 22, to: 23, pct: 12.9, avg: 93.4 },
            { from: 23, to: 24, pct: 7.6, avg: 65.5 },
            { from: 24, to: 25, pct: 7.6, avg: 65.5 },
            { from: 25, to: 26, pct: 7.6, avg: 65.5 },
            { from: 26, to: 27, pct: 7.6, avg: 65.5 },
            { from: 27, to: 28, pct: 7.6, avg: 65.5 },
            { from: 28, to: 0, pct: 8.0, avg: 76.8 }
        ];

        // Create frame pairs with diffs
        for (let i = 0; i < 29; i++) {
            const nextFrame = (i + 1) % 29;
            const stats = diffStats[i];

            const timeStart = getFrameTime(i);
            const timeEnd = getFrameTime(nextFrame === 0 ? 29 : nextFrame);
            const duration = getFrameDuration(i);
            const description = frameDescriptions[i];

            // Create frame pair container
            const pair = document.createElement('div');
            pair.className = 'frame-pair';

            // First frame
            pair.innerHTML = `
                <div class="frame-box">
                    <img src="frames/frame-${i}.png?v=16a2c14" alt="Frame ${i}">
                    <div class="frame-label">Frame ${i}</div>
                    <div class="frame-time">${timeStart.ms}ms (${timeStart.seconds}s)</div>
                </div>

                <div class="arrow">â†’</div>

                <div class="diff-box">
                    <img src="frames/diffs/diff-${i}-to-${nextFrame}.png?v=16a2c14" alt="Diff ${i}â†’${nextFrame}">
                    <div class="diff-label">Diff ${i}â†’${nextFrame}</div>
                    <div class="diff-stats">${stats.pct.toFixed(1)}% changed, intensity: ${stats.avg.toFixed(1)}</div>
                    <div class="diff-stats">Duration: ${duration}ms</div>
                    <div class="diff-description">${description}</div>
                </div>

                <div class="arrow">â†’</div>

                <div class="frame-box">
                    <img src="frames/frame-${nextFrame}.png?v=16a2c14" alt="Frame ${nextFrame}">
                    <div class="frame-label">Frame ${nextFrame}</div>
                    <div class="frame-time">${timeEnd.ms}ms (${timeEnd.seconds}s)</div>
                </div>
            `;

            frameSequence.appendChild(pair);
        }
    </script>
</body>
</html>
